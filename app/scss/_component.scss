// @import 'historic-view';

$app_width:  996px;
$columns:    12;
$col_gutter: 24px;
$col_width:  ($app_width/$columns);

$panel_min_height:  400px;
$panel_left_width:  175px;
$panel_right_width: 800px;

$white:           #FFFFFF;
$black:           #000000;

$dashboard_2:     #F3F3F3;
$dashboard_4:     #F0EFEF;
$dashboard_9:     #DFDFDF;
$dashboard_11:    #D5D5D5;
$dashboard_14:    #C4C4C4;
$dashboard_15:    #BCBEC0;
$dashboard_18:    #AFB0AF;
$dashboard_20:    #989A9A;
$dashboard_23:    #707171;
$dashboard_25:    #5F6062;
$dashboard_27:    #343434;
$dashboard_29:    #0E2026;
$dashboard_30:    #00141B;
$dashboard_47:    #6F7F86;
$dashboard_49:    #769AA6;
$dashboard_56:    #596C70;
$dashboard_64:    #1F3137;
$dashboard_65:    #122B33;
$dashboard_69:    #9EE2FC;
$dashboard_73:    #48B5DA;
$dashboard_77:    #28A1C8;
$dashboard_79:    #028CB9;
$dashboard_90:    #1994BE;
$dashboard_92:    #36BCC2;
$dashboard_100:   #255F73;
$dashboard_101:   #3F7D92;
$dashboard_106:   #7DB951;
$dashboard_113:   #FCF1AB;
$dashboard_125:   #ED5F80;
$dashboard_126:   #EE4347;
$dashboard_129:   #E21954;
$dashboard_133:   #8F394D;
$dashboard_137:   #232323;

*                                       {
  @include box-sizing();
  @include selection-color($dashboard_69);

  margin:0px; padding:0px; border:none; outline:none; text-decoration:none; list-style-type:none; list-style-position:outside; vertical-align:top; border-collapse:collapse; resize:none; background:none;

  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  // -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.row                                    { position:relative; display:inline-block; width:100%; margin:0px 0px 8px 0px; }

.columns                                { display:inline-block; position:relative; float:left;
  // &:not(:last-child)                    { margin-right:$col_gutter; }

  &.one                                 { width:((1*$col_width) - $col_gutter); }
  &.two                                 { width:((2*$col_width) - $col_gutter); }
  &.three                               { width:((3*$col_width) - $col_gutter); }
  &.four                                { width:((4*$col_width) - $col_gutter); }
  &.five                                { width:((5*$col_width) - $col_gutter); }
  &.six                                 { width:((6*$col_width) - $col_gutter); }
  &.seven                               { width:((7*$col_width) - $col_gutter); }
  // &.eight                               { width:((8*$col_width) - $col_gutter); }
  &.eight                               { width:630px; }
  &.nine                                { width:((9*$col_width) - $col_gutter); }
  &.ten                                 { width:((10*$col_width) - $col_gutter); }
  &.eleven                              { width:((11*$col_width) - $col_gutter); }
  &.twelve                              { width:((12*$col_width) ); }

  &.col_centered                        { display:block; float:none; margin:0 auto; }
  &.col_right                           { float:right; }
  &.col_full                            { width:100%; }

  //
  .row {&:not(:first-child)             {margin-top:50px;}}
}

// sometimes in batman you need extra markup to bind to, this helps to makes those
// less obtrusive
.batman                                 { width:inherit;
  & > *                                 {}

  &.display                             {}
  &.modal                               { display:inline; }
  &.partial                             { display:inline; }
  &.view                                {}
  &.yield                               {}
}

.cursor                                 { cursor:pointer; }
.noclick                                { pointer-events:none; }
.truncate                               { @include truncate(); }


$background_gray: $dashboard_9;

html                                    { background:$background_gray;  font-weight:bold;
  body                                  { @include font-size(12px); width:$app_width; margin:0 auto; /*font-family:$museo;*/ font-weight:700; @include antiAlias(); color:$black; background:inherit; padding: 0 0 30px 0;
    header, nav, footer                 { position:relative; }

    h1, h2, h3, h4, h5, h6              { position:relative; display:block; width:100%; margin-bottom:24px; /*font-family:$museo;*/ font-weight: normal; }
    h1                                  { @include font-size(21px); }
    h2                                  { @include font-size(19px); padding-bottom:18px; color:$dashboard_137; border-bottom:1px solid $dashboard_14; font-weight:bold; @include antiAlias(); }
    h3                                  { @include font-size(16px); padding-bottom:18px; color:$dashboard_27; border-bottom:1px solid $dashboard_14; }
    h4                                  { @include font-size(14px); }
    h5                                  { @include font-size(13px); color:$dashboard_20; }
    h6                                  { @include font-size(12px); margin-bottom:5px; color:$dashboard_15; }

    ul                                  { display:inline-block;
      li                                { position:relative; width:inherit; }
    }

    a                                   { display:inline-block; color:$dashboard_77;
      &:hover                           { color:$dashboard_73; }
    }
    p                                   { @include font-size(14px); margin-bottom:12px; color:$dashboard_23; line-height:28px; }

    .code                               { @include font-size(12px); padding:18px; /*font-family:$monaco;*/ color:$dashboard_92; line-height:20px; background:$dashboard_64;
      textarea, textarea:focus          { color:$dashboard_92; background:$dashboard_64; }
    }
    .italic                             { font-style:italic; }
  }
}

header.lined                            { width:100%; min-height:50px; border-bottom:1px solid $dashboard_14; margin-bottom:40px;
  h2                                    { float:left; width:initial; border:none; padding:2px 0px 0px 0px; margin:0px; }
  .right                                { float:right;  }
}

hr                                      { display:inline-block; width:100%; height:1px; background:$dashboard_14; }

.selectable, .selectable *, input, textarea  {
    -webkit-touch-callout: text;
    -webkit-user-select: text;
    -khtml-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
    font-weight: bold;
}
button { font-weight:bold; }


form                    { display:inline-block; width:100%;
  fieldset              { display:inline-block; width:100%; margin-bottom:16px;
    // p                   { color:$dashboard_58; }

    // .dropdown           { color:$dashboard_64; }

    .input              {
      label             {}
      input             {}
      .error            {}
    }
  }
}

.input                            {@include font-size(15px); display:inline-block; position:relative; width:100%; margin-bottom:16px; color:$dashboard_100;
  &:focus                         { }
  & > *                           {display:inline-block;}

  // &:not(.disabled, .search)      { border:5px solid $dashboard_29; }

  //
  label                           {@include font-size(13px); width:100%; margin-bottom:5px; color:$dashboard_15;}

  // INITIAL
  input                           {width:100%; height:41px; padding:9px 10px 6px 10px; font-size:15px; line-height:18px; color:inherit; background:$dashboard_2; /*font-family:$museo;*/ @include transition(all, 0.08s); /*@include placeholderTxtColor($dashboard_36);*/
    &:valid                       {background:$dashboard_2; color:$dashboard_73; @include transition(color, 1s);}
    &:focus                       {background:white; color:$dashboard_30; /*@include placeholderTxtColor($dashboard_11);*/ @include transition(background, 0s);}
  }

  //
  &.field_with_errors             {
    input                         {outline:1px solid $dashboard_126;}
    .error                        {@include font-size(11px); margin:2px 0px 8px 0px; color:$dashboard_126;}
  }

  // individual .npt-* styles are found in their respective files, these include:
  //  - inputs/_email
  //  - inputs/_password
  //  - inputs/_submit
  //  - inputs/_text

  // STATES
  // &.disabled                      { background:$dashboard_47; background:none;
  //   input                         { color:$dashboard_100; background: none; }
  // }

  // &.inactive                      { border:1px solid $white; background:$dashboard_9;
  //   input                         { color:$dashboard_23; }
  // }

  // &.white                         { background:$white; color:$dashboard_92; }
  // &.gray                          { background:$dashboard_9;
  //   input, input:valid            { border: 1px solid $dashboard_73; }
  //   &.errored input               { border: 1px solid $dashboard_126; }
  // }
}

//
.textarea                         { @include font-size(15px); position:relative; width:100%; color:$dashboard_77; background:$dashboard_2; overflow:hidden;
  &.code                          { padding:0px; }

  &.error                         { outline:1px solid $dashboard_126; }

  textarea                        { @include font-size(inherit, inherit); width:100%; height:100%; padding:10px; font-family:inherit; color:inherit; background:$white; /*@include placeholderTxtColor($dashboard_11);*/
    &:focus                       { background:white; color:$dashboard_30; /*@include placeholderTxtColor($dashboard_11);*/ }
  }
}

//
.dark-night                       {
  .input                          { margin:0px; background:none;
    &.disabled                    { background:$dashboard_47; background:none;
      input                       { color:$dashboard_101; background: $dashboard_65; }
    }
  }
  input                           { color:$dashboard_73; background:$dashboard_64; /*@include placeholderTxtColor($dashboard_97);*/
    &:valid                       { color:$dashboard_73; background:$dashboard_64; }
    &:focus                       { @include transition(all, 0.09s); background:$dashboard_90; color:white; /*@include placeholderTxtColor($dashboard_99);*/}
  }
}

// .roles                            {
//   .input                          { background:none; }
//   input, input:valid              { background:$dashboard_41; @include placeholderTxtColor($dashboard_97); color:white;
//     &:focus                       { @include transition(all, 0.09s); background:$dashboard_60; color:$dashboard_72; @include placeholderTxtColor($dashboard_51);}
//   }
// }

.radio                      { position:relative; display:inline-block; color:inherit; cursor:pointer;
  input                     { display:none; }

  .label                    { display:inline-block; margin:0px;
    &:before, &:after       { @include drop-shadow(0, 1px, 2px, $dashboard_18); @include border-radius(100%, 100%, 100%, 100%); content:""; display:inline-block; position:relative; width:14px; height:14px; background:$white; }
  }

  &:hover                   {
    .label                  { color:$dashboard_79; }
  }

  &.checked                 {
    .label                  { display:inline-block; margin:0px;
      &:before, &:after     { width:8px; height:8px; border:3px solid white; background:$dashboard_73; }
    }
  }


  // radio-dark
  &.radio-dark              {
    .label                  {
      &:before, &:after     { background:$dashboard_29; }
    }

    &.checked               {
      .label                {
        &:before, &:after   { border-color:$dashboard_29; background:$dashboard_73;}
      }
    }
  }

  // radio-flat
  &.radio-flat              {
    .label                  {
      &:before, &:after     { @include drop-shadow(0px, 0px, 0px, $dashboard_73, 1px); }
    }

    &.checked               {
      .label                {
        &:before, &:after   { border-color:$white; background:$dashboard_73; }
      }
    }
  }

  // NOTE: maybe consider using the same pseudo element for each type of radio
  // to allow for more flexibility if the other is needed (see _items.scss for
  // an example)


  // radio left
  &.radio-left              {
    .label                  {
      &:before              { top:-2px; left:-5px; }
      &:after               { display:none; }
    }
  }

  // radio right
  &.radio-right             {
    .label                  {
      &:before              { display:none; }
      &:after               { top:-2px; right:-5px; }
    }
  }

  // radio top
  &.radio-top               { width:100%; text-align:center;
    .label                  { width:100%;
      &:before              { top:0px; right:0px; }
      &:after               { display:none; }
    }
  }

  // radio bottom
  &.radio-bottom            { width:100%; text-align:center;
    .label                  { width:100%;
      &:before              { display:none; }
      &:after               { display:block; position:relative; bottom:-5px; margin:0 auto; }
    }
  }
}

table                       { width:100%; border:none; background:none; color:$dashboard_25;
  thead                     { background:$dashboard_25;
    tr                      {
      th                    { padding:8px; color:$white; border:1px solid $dashboard_27;
        &.cost              { text-align:center; }
      }
    }
  }
  tbody                     { background:$dashboard_4;
    tr                      { background:none;
      &:nth-of-type(even)   { background:inherit; }
      td                    { padding:8px; border:1px solid $dashboard_11;
        &.cost              { background:$white; text-align:center; }
      }
    }
  }
  tfoot                     { background:none;
    tr                      {
      td                    { padding:8px;
        &.cost              { @include font-size(14px); padding:12px; text-align:center; border:1px solid $dashboard_11; background:$white; }
        &.grand             { @include font-size(14px); padding:12px; text-align:center; color:$white; border:1px solid $dashboard_27; background:$dashboard_25; }
      }
    }
  }
}


// @import "logs/*";

@mixin panel_left_defaults          { min-width:$panel_left_width; width:$panel_left_width; max-width:$panel_left_width; }
@mixin panel_right_defaults         { min-width:$panel_right_width; width:$panel_right_width; max-width:$panel_right_width; }

#app-logs                           {display:flex; flex-direction:column; width:1000px;

  // checked styles
  .checked                          {pointer-events:none;
    .label                          {color:$dashboard_79;}
    .icon svg *                     {stroke:$dashboard_79;}
  }

  .quickdoc_toggle                  {top:75px; right:0px;}

  //
  .control-panel                    {display:flex; align-self:flex-end; width:$panel_right_width;

    .toggles                        {display:flex;
      .radio                        {width:125px; border-right:1px solid $dashboard_11;
        .icon                       {height:50px; svg {@include align('vertical');}}
        &:hover                     {.label {color:$dashboard_73;} .icon svg * {stroke: $dashboard_73;}}
      }
    }

    .descriptions                   {
      .description                  {margin:0px; line-height:22px;}
    }
  }

  //
  table.log-panel                   {height:$panel_min_height;
    &:after                         {@include align('horizontal'); @include font-size(13px); display:none; content:""; position: absolute; top:200px; left:58%; z-index:1; width:auto; padding:8px; color:$dashboard_73; text-align:center; background:$dashboard_64; }

    // &.api-failed:after              { @include animation('pulsate 1.2s infinite'); display:block; content:"Unable to communicate with the nanobox api, please try again."; color:$dashboard_129; }
    // &.communication-error:after     { @include animation('pulsate 1.2s infinite'); display:block; content:"The nanobox api failed unexpectedly, give us a minute and try again."; color:$dashboard_129; }
    //
    // &.connecting-live:after         { @include animation('pulsate 1.2s infinite'); display:block; content:"Connecting Live Stream..."; }
    // &.awaiting-data:after           { @include animation('pulsate 1.2s infinite'); display:block; content:"Connected! Listening for your app to log something..."; color:$dashboard_106; }
    //
    // &.retrieving-history-log:after  { @include animation('pulsate 1.2s infinite'); display:block; content:"Retrieving Historical Data..."; }
    // &.loading-records:after         { @include animation('pulsate 1.2s infinite'); display:block; content:"Loading Records..."; }
    // &.no-historic:after           { @include animation("slowFadeOut 3s forwards"); display:block; content:'No Historical Data Found...'; color:$dashboard_113; }

    thead                           { @include font-size(15px); background:none;
      tr                            { height:33px;
        td                          {
          &:first-child             { @include panel_left_defaults; padding:3px; color:$dashboard_29; vertical-align:bottom; background:none; }
          &:last-child              { @include panel_right_defaults; padding:8px; background:white;
            .radio                  { margin-right:18px; }

            .input                  { width:400px; float:left; margin:0px; padding:0px;
              // &:before              { @include pagodacons(normal, '\004D'); display:inline-block; margin-right:5px; }
              input                 { display:inline-block; height:17px; width:375px; padding:0px; background:$white; font-size:12px; }
            }

            #view-more              { position:relative; float:right; padding:2px; cursor:pointer; }

            // This way the log follower keeps its horizontal position even when it gets positioned statically
            .follow-holder          { display:inline-block; float:right; width:120px; margin-right:10px; }
            .follow-log             { width:120px; padding:0px; cursor:pointer; overflow:hidden; z-index:1; font-size:12px;
              &:before              { display:inline-block; float:right; color:$dashboard_49; text-align:center; }
              // &:after               { @include pagodacons(bold, '\25C9'); @include font-size(68px); display:inline-block; float:right; margin-right:8px; line-height:5px; color:$dashboard_49;  }
              &:hover               {
                &:before, &:after   { color:$dashboard_73; }
              }

              &.locked              {
                &:before            { content:'Follow Log'; }
                &:after             { @include border-radius(50%, 50%, 50%, 50%); background:none; }
                &.active            {
                  &:before, &:after { color:$dashboard_125; }
                }
              }

              &.following           { padding:0px; position:fixed; top:8px;
                &:before            { content:''; display:none; }
                &:after             { @include border-radius(50%, 50%, 50%, 50%); width:25px; height:25px; line-height:12px; color:$dashboard_29; background:$dashboard_56; }

                &:hover             { @include border-radius(50px, 50px, 50px, 50px); padding:5px; color:$dashboard_133; background:$dashboard_125;
                  &:before          { content:'Follow Log'; display:inline-block; margin:0px 8px; color:$dashboard_113; }
                  &:after           { width:initial; height:initial; line-height:5px; background:none; color:$dashboard_133; }
                }

                &.active            {
                  &:before          { }
                  &:after           { background:$dashboard_125; color:$dashboard_133; }

                  &:hover           { color:$dashboard_29; background:$dashboard_56;
                    &:before        { content:'Unfollow'; color:$dashboard_29;}
                    &:after         { background:none; color:$dashboard_29;}
                  }
                }
              }
            }
          }
        }
      }
    }

    tbody                           { counter-reset:row-number;
      tr                            {
        td                          { border:none;
          &:first-child             { @include panel_left_defaults; padding:15px 0px; background:$dashboard_29;
            .entries                { width:100%; margin:0px; /*font-family:$lato;*/
              .entry                { @include font-size(11px); display:inline-block; width:100%; padding:0px 15px; line-height:15px;
                & > *               { display:inline-block; }
                .time               { width:88px; }
                .service            { }
              }
            }
          }
          &:last-child              { @include panel_right_defaults; padding:15px 0px; background:$dashboard_64; overflow-x:scroll; overflow-y:hidden;
            .messages               { display:inline-block; width:100%; margin:0px; /*font-family:$monaco;*/ color:$dashboard_92; letter-spacing:0.5px;
              .message              { @include font-size(11px); display:block; float:left; width:100%; padding:0px 15px; line-height:15px; white-space:pre;
                // &:before            { display:inline-block; width:36px; content:counter(row-number) "."; counter-increment:row-number; color:$dashboard_102; }
              }
            }
          }
        }
      }
    }
  }

  // disable all displays by default
  .control-panel                 {.descriptions {.description {@include transition(); display:none; opacity:0;}}}
  table.log-panel                {
    thead                        {
      // streaming/historic
      .input.filter              {display:none;}

      // streaming/builds
      .follow-holder             {display:none;}

      // historic
      #view-more                 {display:none;}
    }

    tbody                        {
      // streaming/histroical
      .entries                   {display:none;}
    }
  }

  // when live logs; turn on live log displays
  &.live                         {
    .control-panel               {.toggles {.toggle.live {@extend .checked;}}}
    .descriptions                {.description.live {display:inline-block; opacity:1;}}
    table.log-panel              {
      thead                      {.input.filter {display:inline-block;}.follow-holder {display:inline-block;}}
      tbody                      {.entries{display:inline-block;}}
    }
  }

  // when historic logs; turn on historic log displays
  &.historic                   {
    .control-panel               {.toggles {.toggle.historic {@extend .checked;}}}
    .descriptions                {.description.historic {display:inline-block; opacity:1;}}
    table.log-panel              {
      thead                      {.input.filter {display:inline-block;} #view-more {display:inline-block;}}
      tbody                      {.entries{display:inline-block;}}
    }
  }
}
